<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="">

    <title>Openlabs TUL 2014 Dockerized ERP</title>

    <!-- Bootstrap core CSS -->
    <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="http://getbootstrap.com/examples/jumbotron-narrow/jumbotron-narrow.css" rel="stylesheet">

    <link href="http://cdnjs.cloudflare.com/ajax/libs/pnotify/2.0.0/pnotify.all.min.css" rel="stylesheet">

  </head>

  <body>

    <div class="container">
      <div class="header">
        <ul class="nav nav-pills pull-right">
          <li class="active"><a href="http://docker.openlabs.us">Home</a></li>
          <li><a href="https://registry.hub.docker.com/u/openlabs/tryton/">Project</a></li>
          <li><a href="https://github.com/openlabs/docker-tul-2014" target="blank">Source Code</a></li>
        </ul>
        <h3 class="text-muted">Dockerized Tryton</h3>
      </div>

      {% if setup_done %}
      <div class="jumbotron">
        <h1>ERP is now set up</h1>
        <p class="text-success">
          To access your ERP you can connect with the tryton client with the following settings:
        </p>
        <ul class="list-group">
          <li class="list-group-item">Host: {{ name }}.docker.openlabs.us</li>
          <li class="list-group-item">Port: 8000</li>
          <li class="list-group-item">User: admin</li>
          <li class="list-group-item">Password: admin</li>
          <li class="list-group-item">Database: test_db</li>
        </ul>
        <div class="alert alert-info" role="alert">
          <strong>Heads Up!</strong>
          <p>You can also access the web client at <a href="http://{{name}}.docker.openlabs.us:8000/" target="blank">{{name}}.docker.openlabs.us:8000</a></p>
        </div>
      </div>
      {% else %}
      <div class="jumbotron">
        <h1>Launch your ERP</h1>
        <p class="lead">To launch your own instance of the
          world's most stable ERP system, enter your subdomain
          below and click start
        </p>
        <p>
          <form method="post">
            <div class="form-group">
              <div class="input-group">
                <label class="sr-only" for="exampleInputEmail2">Domain</label>
                <input type="text" class="form-control" id="name" name="name" placeholder="mydomain">
                <div class="input-group-addon">.docker.openlabs.us</div>
              </div>
            </div>            
            <button type="submit" class="btn btn-lg btn-success">Start</button>
          </form>
        </p>
      </div>
      {% endif %}

      <div class="footer">
        <p>&copy; Openlabs 2014</p>
      </div>

    </div> <!-- /container -->

    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/pnotify/2.0.0/pnotify.all.min.js"></script>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/javascript">
      $(document).ready(function($){
        {# Message flashin #}
        {% for category, message in get_flashed_messages(with_categories=True) %}
          new PNotify({
            title: '{{ category }}',
            text: '{{ message }}',
            type: '{{ category }}',
          });
        {% endfor %}
      });
    </script>
  </body>
</html>
